{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/mnt/c/Users/ajtwi/git/MusicJournal/music-journal/src/client/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from 'react';\nimport Head from 'next/head';\nimport { auth, firebase } from '../src/initFirebase';\nimport router from 'next/router';\nimport { Container, Row, Button, Image } from 'react-bootstrap/';\n\nvar Login = function Login(_ref) {\n  _s();\n\n  var user = _ref.user;\n\n  var handleSignIn = function handleSignIn() {\n    router.push('/api/spotify-auth');\n  }; //This should probably move into the nav\n\n\n  var handleLogout = function handleLogout() {\n    auth.signOut().then(function () {\n      alert('Logout successful');\n    })[\"catch\"](function (error) {\n      alert('OOps something went wrong check your console'); // console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    if (user) {\n      router.push('/');\n    }\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    className: \"jsx-1893462548\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, \"Welcome to MusicJournal\")), __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, __jsx(Row, {\n    className: \"justify-content-center\",\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-1893462548\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, \"Welcome!\")), __jsx(Row, {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-1893462548\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"MusicJournal is a different way of thinking about the music you love, how it relates to your memories, and how to categorize it.\")), __jsx(Row, {\n    className: \"justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, __jsx(Button, {\n    variant: \"dark\",\n    onClick: function onClick() {\n      return handleSignIn();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, __jsx(Image, {\n    src: \"spotify-logo.png\",\n    fluid: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }), \"Login with Spotify to continue\"), __jsx(Button, {\n    variant: \"light\",\n    onClick: function onClick() {\n      return handleSignOut();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Logout\"))), __jsx(_JSXStyle, {\n    id: \"1893462548\",\n    __self: _this\n  }, \".btn-dark{width:25%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvYy9Vc2Vycy9hanR3aS9naXQvTXVzaWNKb3VybmFsL211c2ljLWpvdXJuYWwvc3JjL2NsaWVudC9jb21wb25lbnRzL0xvZ2luLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXFEUyxBQUd1QixVQUNaIiwiZmlsZSI6Ii9tbnQvYy9Vc2Vycy9hanR3aS9naXQvTXVzaWNKb3VybmFsL211c2ljLWpvdXJuYWwvc3JjL2NsaWVudC9jb21wb25lbnRzL0xvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJztcbmltcG9ydCB7IGF1dGgsIGZpcmViYXNlIH0gZnJvbSAnLi4vc3JjL2luaXRGaXJlYmFzZSc7XG5pbXBvcnQgcm91dGVyIGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IENvbnRhaW5lciwgUm93LCBCdXR0b24sIEltYWdlIH0gZnJvbSAncmVhY3QtYm9vdHN0cmFwLyc7XG5cbmNvbnN0IExvZ2luID0gKHsgdXNlciB9KSA9PiB7XG5cbiAgY29uc3QgaGFuZGxlU2lnbkluID0gKCkgPT4ge1xuICAgIHJvdXRlci5wdXNoKCcvYXBpL3Nwb3RpZnktYXV0aCcpO1xuICB9XG5cbiAgLy9UaGlzIHNob3VsZCBwcm9iYWJseSBtb3ZlIGludG8gdGhlIG5hdlxuICBjb25zdCBoYW5kbGVMb2dvdXQgPSAoKSA9PiB7XG4gICAgYXV0aC5zaWduT3V0KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBhbGVydCgnTG9nb3V0IHN1Y2Nlc3NmdWwnKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGFsZXJ0KCdPT3BzIHNvbWV0aGluZyB3ZW50IHdyb25nIGNoZWNrIHlvdXIgY29uc29sZScpO1xuICAgICAgLy8gY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHJvdXRlci5wdXNoKCcvJyk7XG4gICAgfVxuICB9LCBbXSlcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8SGVhZD5cbiAgICAgICAgPHRpdGxlPldlbGNvbWUgdG8gTXVzaWNKb3VybmFsPC90aXRsZT5cbiAgICAgIDwvSGVhZD5cblxuICAgICAgPENvbnRhaW5lcj5cbiAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCIgeHM9ezEyfT5cbiAgICAgICAgICA8aDE+V2VsY29tZSE8L2gxPlxuICAgICAgICA8L1Jvdz5cbiAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxwPk11c2ljSm91cm5hbCBpcyBhIGRpZmZlcmVudCB3YXkgb2YgdGhpbmtpbmcgYWJvdXQgdGhlIG11c2ljIHlvdSBsb3ZlLCBob3cgaXQgcmVsYXRlcyB0byB5b3VyIG1lbW9yaWVzLCBhbmQgaG93IHRvIGNhdGVnb3JpemUgaXQuPC9wPlxuICAgICAgICA8L1Jvdz5cbiAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZGFya1wiIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNpZ25JbigpfT5cbiAgICAgICAgICAgIDxJbWFnZSBzcmM9XCJzcG90aWZ5LWxvZ28ucG5nXCIgZmx1aWQgLz5cbiAgICAgICAgICAgIExvZ2luIHdpdGggU3BvdGlmeSB0byBjb250aW51ZVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImxpZ2h0XCIgb25DbGljaz17KCkgPT4gaGFuZGxlU2lnbk91dCgpfT5cbiAgICAgICAgICAgIExvZ291dFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L1Jvdz5cbiAgICAgIDwvQ29udGFpbmVyPlxuXG4gICAgICA8c3R5bGUgZ2xvYmFsIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICAuYnRuLWRhcmsge1xuICAgICAgICAgICAgd2lkdGg6IDI1JTsgICAgXG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8Lz5cbiAgKVxufVxuXG5Mb2dpbi5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyAoY3R4KSA9PiAge1xuICBjb25zdCB1c2VyID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyO1xuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgcmV0dXJuIHsgdXNlciB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dpbjtcbiJdfQ== */\\n/*@ sourceURL=/mnt/c/Users/ajtwi/git/MusicJournal/music-journal/src/client/components/Login.js */\"));\n};\n\n_s(Login, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Login;\n\nLogin.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var user;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            user = firebase.auth().currentUser;\n\n            if (user) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {});\n\n          case 3:\n            return _context.abrupt(\"return\", {\n              user: user\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/mnt/c/Users/ajtwi/git/MusicJournal/music-journal/src/client/components/Login.js"],"names":["useEffect","Head","auth","firebase","router","Container","Row","Button","Image","Login","user","handleSignIn","push","handleLogout","signOut","then","alert","error","handleSignOut","getInitialProps","ctx","currentUser"],"mappings":";;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,qBAA/B;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,MAAzB,EAAiCC,KAAjC,QAA8C,kBAA9C;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAc;AAAA;;AAAA,MAAXC,IAAW,QAAXA,IAAW;;AAE1B,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBP,IAAAA,MAAM,CAACQ,IAAP,CAAY,mBAAZ;AACD,GAFD,CAF0B,CAM1B;;;AACA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBX,IAAAA,IAAI,CAACY,OAAL,GAAeC,IAAf,CAAoB,YAAY;AAC9BC,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACD,KAFD,WAES,UAAUC,KAAV,EAAiB;AACxBD,MAAAA,KAAK,CAAC,8CAAD,CAAL,CADwB,CAExB;AACD,KALD;AAMD,GAPD;;AASAhB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIU,IAAJ,EAAU;AACRN,MAAAA,MAAM,CAACQ,IAAP,CAAY,GAAZ;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;AAMA,SACE,4BACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,CADF,EAKE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAwC,IAAA,EAAE,EAAE,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,EAIE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wIADF,CAJF,EAOE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,MAAhB;AAAuB,IAAA,OAAO,EAAE;AAAA,aAAMD,YAAY,EAAlB;AAAA,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,GAAG,EAAC,kBAAX;AAA8B,IAAA,KAAK,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,mCADF,EAKE,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,OAAhB;AAAwB,IAAA,OAAO,EAAE;AAAA,aAAMO,aAAa,EAAnB;AAAA,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CAPF,CALF;AAAA;AAAA;AAAA,k8FADF;AAiCD,CAvDD;;GAAMT,K;;KAAAA,K;;AAyDNA,KAAK,CAACU,eAAN;AAAA,uEAAwB,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBV,YAAAA,IADgB,GACTP,QAAQ,CAACD,IAAT,GAAgBmB,WADP;;AAAA,gBAEjBX,IAFiB;AAAA;AAAA;AAAA;;AAAA,6CAGb,EAHa;;AAAA;AAAA,6CAKf;AAAEA,cAAAA,IAAI,EAAJA;AAAF,aALe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA;;AAQA,eAAeD,KAAf","sourcesContent":["import { useEffect } from 'react';\nimport Head from 'next/head';\nimport { auth, firebase } from '../src/initFirebase';\nimport router from 'next/router';\nimport { Container, Row, Button, Image } from 'react-bootstrap/';\n\nconst Login = ({ user }) => {\n\n  const handleSignIn = () => {\n    router.push('/api/spotify-auth');\n  }\n\n  //This should probably move into the nav\n  const handleLogout = () => {\n    auth.signOut().then(function () {\n      alert('Logout successful');\n    }).catch(function (error) {\n      alert('OOps something went wrong check your console');\n      // console.log(err);\n    });\n  }\n\n  useEffect(() => {\n    if (user) {\n      router.push('/');\n    }\n  }, [])\n\n  return (\n    <>\n      <Head>\n        <title>Welcome to MusicJournal</title>\n      </Head>\n\n      <Container>\n        <Row className=\"justify-content-center\" xs={12}>\n          <h1>Welcome!</h1>\n        </Row>\n        <Row className=\"text-center\">\n          <p>MusicJournal is a different way of thinking about the music you love, how it relates to your memories, and how to categorize it.</p>\n        </Row>\n        <Row className=\"justify-content-center\">\n          <Button variant=\"dark\" onClick={() => handleSignIn()}>\n            <Image src=\"spotify-logo.png\" fluid />\n            Login with Spotify to continue\n          </Button>\n          <Button variant=\"light\" onClick={() => handleSignOut()}>\n            Logout\n          </Button>\n        </Row>\n      </Container>\n\n      <style global jsx>\n        {`\n          .btn-dark {\n            width: 25%;    \n          }\n        `}\n      </style>\n    </>\n  )\n}\n\nLogin.getInitialProps = async (ctx) =>  {\n  const user = firebase.auth().currentUser;\n  if (!user) {\n    return {};\n  }\n  return { user };\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}