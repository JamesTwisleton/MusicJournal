{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/ajtwi/git/MusicJournal/music-journal/components/Login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from 'react';\nimport Head from 'next/head';\nimport { auth, firebase } from '../src/initFirebase';\nimport router from 'next/router';\nimport { Container, Row, Button, Image } from 'react-bootstrap/';\n\nconst Login = ({\n  user\n}) => {\n  const handleSignIn = () => {\n    router.push('/api/spotify-auth');\n  }; //This should probably move into the nav\n\n\n  const handleLogout = () => {\n    auth.signOut().then(function () {\n      alert('Logout successful');\n    }).catch(function (error) {\n      alert('OOps something went wrong check your console'); // console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    if (user) {\n      router.push('/');\n    }\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    className: \"jsx-1893462548\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, \"Welcome to MusicJournal\")), __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, __jsx(Row, {\n    className: \"justify-content-center\",\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-1893462548\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, \"Welcome!\")), __jsx(Row, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-1893462548\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"MusicJournal is a different way of thinking about the music you love, how it relates to your memories, and how to categorize it.\")), __jsx(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, __jsx(Button, {\n    variant: \"dark\",\n    onClick: () => handleSignIn(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, __jsx(Image, {\n    src: \"spotify-logo.png\",\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }), \"Login with Spotify to continue\"), __jsx(Button, {\n    variant: \"light\",\n    onClick: () => handleSignOut(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Logout\"))), __jsx(_JSXStyle, {\n    id: \"1893462548\",\n    __self: this\n  }, \".btn-dark{width:25%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvYy9Vc2Vycy9hanR3aS9naXQvTXVzaWNKb3VybmFsL211c2ljLWpvdXJuYWwvY29tcG9uZW50cy9Mb2dpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFxRFMsQUFHdUIsVUFDWiIsImZpbGUiOiIvbW50L2MvVXNlcnMvYWp0d2kvZ2l0L011c2ljSm91cm5hbC9tdXNpYy1qb3VybmFsL2NvbXBvbmVudHMvTG9naW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IHsgYXV0aCwgZmlyZWJhc2UgfSBmcm9tICcuLi9zcmMvaW5pdEZpcmViYXNlJztcbmltcG9ydCByb3V0ZXIgZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHsgQ29udGFpbmVyLCBSb3csIEJ1dHRvbiwgSW1hZ2UgfSBmcm9tICdyZWFjdC1ib290c3RyYXAvJztcblxuY29uc3QgTG9naW4gPSAoeyB1c2VyIH0pID0+IHtcblxuICBjb25zdCBoYW5kbGVTaWduSW4gPSAoKSA9PiB7XG4gICAgcm91dGVyLnB1c2goJy9hcGkvc3BvdGlmeS1hdXRoJyk7XG4gIH1cblxuICAvL1RoaXMgc2hvdWxkIHByb2JhYmx5IG1vdmUgaW50byB0aGUgbmF2XG4gIGNvbnN0IGhhbmRsZUxvZ291dCA9ICgpID0+IHtcbiAgICBhdXRoLnNpZ25PdXQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGFsZXJ0KCdMb2dvdXQgc3VjY2Vzc2Z1bCcpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgYWxlcnQoJ09PcHMgc29tZXRoaW5nIHdlbnQgd3JvbmcgY2hlY2sgeW91ciBjb25zb2xlJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlcikge1xuICAgICAgcm91dGVyLnB1c2goJy8nKTtcbiAgICB9XG4gIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+V2VsY29tZSB0byBNdXNpY0pvdXJuYWw8L3RpdGxlPlxuICAgICAgPC9IZWFkPlxuXG4gICAgICA8Q29udGFpbmVyPlxuICAgICAgICA8Um93IGNsYXNzTmFtZT1cImp1c3RpZnktY29udGVudC1jZW50ZXJcIiB4cz17MTJ9PlxuICAgICAgICAgIDxoMT5XZWxjb21lITwvaDE+XG4gICAgICAgIDwvUm93PlxuICAgICAgICA8Um93IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPHA+TXVzaWNKb3VybmFsIGlzIGEgZGlmZmVyZW50IHdheSBvZiB0aGlua2luZyBhYm91dCB0aGUgbXVzaWMgeW91IGxvdmUsIGhvdyBpdCByZWxhdGVzIHRvIHlvdXIgbWVtb3JpZXMsIGFuZCBob3cgdG8gY2F0ZWdvcml6ZSBpdC48L3A+XG4gICAgICAgIDwvUm93PlxuICAgICAgICA8Um93IGNsYXNzTmFtZT1cImp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJkYXJrXCIgb25DbGljaz17KCkgPT4gaGFuZGxlU2lnbkluKCl9PlxuICAgICAgICAgICAgPEltYWdlIHNyYz1cInNwb3RpZnktbG9nby5wbmdcIiBmbHVpZCAvPlxuICAgICAgICAgICAgTG9naW4gd2l0aCBTcG90aWZ5IHRvIGNvbnRpbnVlXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwibGlnaHRcIiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTaWduT3V0KCl9PlxuICAgICAgICAgICAgTG9nb3V0XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvUm93PlxuICAgICAgPC9Db250YWluZXI+XG5cbiAgICAgIDxzdHlsZSBnbG9iYWwganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC5idG4tZGFyayB7XG4gICAgICAgICAgICB3aWR0aDogMjUlOyAgICBcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvPlxuICApXG59XG5cbkxvZ2luLmdldEluaXRpYWxQcm9wcyA9IGFzeW5jIChjdHgpID0+ICB7XG4gIGNvbnN0IHVzZXIgPSBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXI7XG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICByZXR1cm4geyB1c2VyIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2luO1xuIl19 */\\n/*@ sourceURL=/mnt/c/Users/ajtwi/git/MusicJournal/music-journal/components/Login.js */\"));\n};\n\nLogin.getInitialProps = async ctx => {\n  const user = firebase.auth().currentUser;\n\n  if (!user) {\n    return {};\n  }\n\n  return {\n    user\n  };\n};\n\nexport default Login;","map":{"version":3,"sources":["/mnt/c/Users/ajtwi/git/MusicJournal/music-journal/components/Login.js"],"names":["useEffect","Head","auth","firebase","router","Container","Row","Button","Image","Login","user","handleSignIn","push","handleLogout","signOut","then","alert","catch","error","handleSignOut","getInitialProps","ctx","currentUser"],"mappings":";;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,qBAA/B;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,MAAzB,EAAiCC,KAAjC,QAA8C,kBAA9C;;AAEA,MAAMC,KAAK,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AAE1B,QAAMC,YAAY,GAAG,MAAM;AACzBP,IAAAA,MAAM,CAACQ,IAAP,CAAY,mBAAZ;AACD,GAFD,CAF0B,CAM1B;;;AACA,QAAMC,YAAY,GAAG,MAAM;AACzBX,IAAAA,IAAI,CAACY,OAAL,GAAeC,IAAf,CAAoB,YAAY;AAC9BC,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACD,KAFD,EAEGC,KAFH,CAES,UAAUC,KAAV,EAAiB;AACxBF,MAAAA,KAAK,CAAC,8CAAD,CAAL,CADwB,CAExB;AACD,KALD;AAMD,GAPD;;AASAhB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,IAAJ,EAAU;AACRN,MAAAA,MAAM,CAACQ,IAAP,CAAY,GAAZ;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;AAMA,SACE,4BACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,CADF,EAKE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAwC,IAAA,EAAE,EAAE,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,EAIE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wIADF,CAJF,EAOE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,MAAhB;AAAuB,IAAA,OAAO,EAAE,MAAMD,YAAY,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,GAAG,EAAC,kBAAX;AAA8B,IAAA,KAAK,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,mCADF,EAKE,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,OAAhB;AAAwB,IAAA,OAAO,EAAE,MAAMQ,aAAa,EAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CAPF,CALF;AAAA;AAAA;AAAA,u5FADF;AAiCD,CAvDD;;AAyDAV,KAAK,CAACW,eAAN,GAAwB,MAAOC,GAAP,IAAgB;AACtC,QAAMX,IAAI,GAAGP,QAAQ,CAACD,IAAT,GAAgBoB,WAA7B;;AACA,MAAI,CAACZ,IAAL,EAAW;AACT,WAAO,EAAP;AACD;;AACD,SAAO;AAAEA,IAAAA;AAAF,GAAP;AACD,CAND;;AAQA,eAAeD,KAAf","sourcesContent":["import { useEffect } from 'react';\nimport Head from 'next/head';\nimport { auth, firebase } from '../src/initFirebase';\nimport router from 'next/router';\nimport { Container, Row, Button, Image } from 'react-bootstrap/';\n\nconst Login = ({ user }) => {\n\n  const handleSignIn = () => {\n    router.push('/api/spotify-auth');\n  }\n\n  //This should probably move into the nav\n  const handleLogout = () => {\n    auth.signOut().then(function () {\n      alert('Logout successful');\n    }).catch(function (error) {\n      alert('OOps something went wrong check your console');\n      // console.log(err);\n    });\n  }\n\n  useEffect(() => {\n    if (user) {\n      router.push('/');\n    }\n  }, [])\n\n  return (\n    <>\n      <Head>\n        <title>Welcome to MusicJournal</title>\n      </Head>\n\n      <Container>\n        <Row className=\"justify-content-center\" xs={12}>\n          <h1>Welcome!</h1>\n        </Row>\n        <Row className=\"text-center\">\n          <p>MusicJournal is a different way of thinking about the music you love, how it relates to your memories, and how to categorize it.</p>\n        </Row>\n        <Row className=\"justify-content-center\">\n          <Button variant=\"dark\" onClick={() => handleSignIn()}>\n            <Image src=\"spotify-logo.png\" fluid />\n            Login with Spotify to continue\n          </Button>\n          <Button variant=\"light\" onClick={() => handleSignOut()}>\n            Logout\n          </Button>\n        </Row>\n      </Container>\n\n      <style global jsx>\n        {`\n          .btn-dark {\n            width: 25%;    \n          }\n        `}\n      </style>\n    </>\n  )\n}\n\nLogin.getInitialProps = async (ctx) =>  {\n  const user = firebase.auth().currentUser;\n  if (!user) {\n    return {};\n  }\n  return { user };\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}