{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from 'react';\nimport Head from 'next/head';\nimport { auth, firebase } from '../src/initFirebase';\nimport router from 'next/router';\nimport { Container, Row, Button, Image } from 'react-bootstrap/';\n\nvar Login = function Login(_ref) {\n  var user = _ref.user;\n\n  var handleSignIn = function handleSignIn() {\n    router.push('/api/spotify-auth');\n  }; //This should probably move into the nav\n\n\n  var handleLogout = function handleLogout() {\n    auth.signOut().then(function () {\n      alert('Logout successful');\n    })[\"catch\"](function (error) {\n      alert('OOps something went wrong check your console'); // console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    if (user) {\n      router.push('/');\n    }\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-1893462548\"\n  }, \"Welcome to MusicJournal\")), __jsx(Container, null, __jsx(Row, {\n    className: \"justify-content-center\",\n    xs: 12\n  }, __jsx(\"h1\", {\n    className: \"jsx-1893462548\"\n  }, \"Welcome!\")), __jsx(Row, {\n    className: \"text-center\"\n  }, __jsx(\"p\", {\n    className: \"jsx-1893462548\"\n  }, \"MusicJournal is a different way of thinking about the music you love, how it relates to your memories, and how to categorize it.\")), __jsx(Row, {\n    className: \"justify-content-center\"\n  }, __jsx(Button, {\n    variant: \"dark\",\n    onClick: function onClick() {\n      return handleSignIn();\n    }\n  }, __jsx(Image, {\n    src: \"spotify-logo.png\",\n    fluid: true\n  }), \"Login with Spotify to continue\"), __jsx(Button, {\n    variant: \"light\",\n    onClick: function onClick() {\n      return handleSignOut();\n    }\n  }, \"Logout\"))), __jsx(_JSXStyle, {\n    id: \"1893462548\"\n  }, [\".btn-dark{width:25%;}\"]));\n};\n\nLogin.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var user;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            user = firebase.auth().currentUser;\n\n            if (user) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {});\n\n          case 3:\n            return _context.abrupt(\"return\", {\n              user: user\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}